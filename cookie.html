<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë”°ë‹˜ì„ ìœ„í•œ ë§ˆë²• ì¿ í‚¤ ì œì‘ì†Œ</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #fff5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            overflow: hidden;
            touch-action: none;
        }

        h1 { color: #ff85a2; margin-top: 20px; text-shadow: 1px 1px 2px white; }

        /* ì˜¤ë¸ íŒ */
        #game-container {
            position: relative;
            width: 350px;
            height: 350px;
            background-color: #ddd;
            border: 15px solid #555;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.2);
            margin: 20px;
        }

        #cookie {
            width: 200px;
            height: 200px;
            background-color: #f3d5b5; /* ë°˜ì£½ ìƒ‰ */
            border-radius: 50%;
            transition: background-color 2s, transform 0.5s;
            position: relative;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
        }

        /* êµ¬ì›Œì¡Œì„ ë•Œ ìƒ‰ìƒ */
        #cookie.baked {
            background-color: #c68642;
        }

        /* í† í•‘ ë¦¬ìŠ¤íŠ¸ */
        #topping-bar {
            display: flex;
            gap: 20px;
            padding: 15px;
            background: white;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .topping-item {
            font-size: 40px;
            cursor: grab;
            user-select: none;
        }

        .placed-topping {
            position: absolute;
            font-size: 30px;
            pointer-events: none; /* ì¿ í‚¤ ìœ„ì— ì˜¬ë¼ê°„ ë’¤ì—ëŠ” í´ë¦­ ë°©í•´ ì•ˆ ë˜ê²Œ */
            transform: translate(-50%, -50%);
        }

        /* ì¡°ì‘ ë²„íŠ¼ */
        .controls {
            margin-top: 30px;
        }

        button {
            padding: 15px 30px;
            font-size: 18px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            background-color: #ff85a2;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 0 #d66d87;
            transition: 0.1s;
        }

        button:active {
            transform: translateY(4px);
            box-shadow: none;
        }
    </style>
</head>
<body>

    <h1>ğŸª ë‚˜ë§Œì˜ ì¿ í‚¤ ë§Œë“¤ê¸°</h1>

    <div id="game-container">
        <div id="cookie"></div>
    </div>

    <div id="topping-bar">
        <div class="topping-item" draggable="true" ondragstart="drag(event)">ğŸ«</div>
        <div class="topping-item" draggable="true" ondragstart="drag(event)">ğŸ“</div>
        <div class="topping-item" draggable="true" ondragstart="drag(event)">ğŸ¬</div>
        <div class="topping-item" draggable="true" ondragstart="drag(event)">âœ¨</div>
        <div class="topping-item" draggable="true" ondragstart="drag(event)">ğŸ¥œ</div>
    </div>

    <div class="controls">
        <button onclick="bakeCookie()">ì˜¤ë¸ì— êµ½ê¸°! ğŸ”¥</button>
        <button onclick="resetGame()" style="background-color: #999; box-shadow: 0 4px 0 #777;">ë‹¤ì‹œ ë§Œë“¤ê¸°</button>
    </div>

    <script>
        const cookie = document.getElementById('cookie');
        
        // ë“œë˜ê·¸ í—ˆìš©
        cookie.ondragover = (e) => e.preventDefault();

        // í† í•‘ ë†“ê¸°
        cookie.ondrop = (e) => {
            e.preventDefault();
            const emoji = e.dataTransfer.getData("text");
            
            // ì¿ í‚¤ ì•ˆì˜ ìƒëŒ€ ì¢Œí‘œ ê³„ì‚°
            const rect = cookie.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            addTopping(emoji, x, y);
        };

        function drag(e) {
            e.dataTransfer.setData("text", e.target.innerText);
        }

        function addTopping(emoji, x, y) {
            const topping = document.createElement('div');
            topping.className = 'placed-topping';
            topping.innerText = emoji;
            topping.style.left = x + 'px';
            topping.style.top = y + 'px';
            
            // ì•½ê°„ì˜ ëœë¤ íšŒì „ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ
            const randomRotate = Math.random() * 360;
            topping.style.transform = `translate(-50%, -50%) rotate(${randomRotate}deg)`;
            
            cookie.appendChild(topping);
        }

        function bakeCookie() {
            if (cookie.classList.contains('baked')) return;
            
            cookie.classList.add('baked');
            cookie.style.transform = "scale(1.05)";
            
            setTimeout(() => {
                alert("ë”©! ğŸª ì •ë§ ë§›ìˆëŠ” ì¿ í‚¤ê°€ êµ¬ì›Œì¡Œì–´ìš”!");
                cookie.style.transform = "scale(1)";
            }, 2000);
        }

        function resetGame() {
            cookie.classList.remove('baked');
            cookie.innerHTML = '';
        }

        // í„°ì¹˜ ì§€ì›ì„ ìœ„í•œ ì¶”ê°€ ë¡œì§ (ì•„ì´íŒ¨ë“œ/í° ëŒ€ì‘)
        document.querySelectorAll('.topping-item').forEach(item => {
            item.addEventListener('touchstart', function(e) {
                const touch = e.touches[0];
                const emoji = this.innerText;
                
                // ì„ì‹œë¡œ ë”°ë¼ë‹¤ë‹ˆëŠ” íš¨ê³¼ ë“±ì€ ìƒëµí•˜ê³ , 
                // í„°ì¹˜ ëë‚  ë•Œ ì¿ í‚¤ ìœ„ì— ìˆìœ¼ë©´ ì¶”ê°€í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                // ì—¬ê¸°ì„œëŠ” ë“œë˜ê·¸ ì•¤ ë“œë¡­ API ìœ„ì£¼ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
            });
        });
    </script>
</body>
</html>